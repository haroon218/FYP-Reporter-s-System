<p-dialog
  [(visible)]="display"
  [modal]="true"
  [header]="selectedEmployee ? 'Edit Employee' : 'Add Employee'"  [closable]="true"
  [style]="{ width: '50vw' }"
>
<form [formGroup]="addEmployeeForm" class="giveaway-form" (ngSubmit)="addEmployee()">
  <div class="form-grid">
    <div class="form-row">
      <!-- Name Field -->
      <div class="form-field" [ngClass]="{'has-error': addEmployeeForm.controls['name'].invalid && addEmployeeForm.controls['name'].touched}">
        <label for="name">Name</label>
        <input id="name" type="text" formControlName="name" placeholder="Enter Employee Name" />
        <div class="error-message" *ngIf="addEmployeeForm.controls['name'].invalid && addEmployeeForm.controls['name'].touched">
          <ng-container *ngIf="addEmployeeForm.controls['name'].errors?.['required']">
            Name is required.
          </ng-container>
        </div>
      </div>

      <!-- Mobile Field -->
      <div class="form-field" [ngClass]="{'has-error': addEmployeeForm.controls['mobile'].invalid && addEmployeeForm.controls['mobile'].touched}">
        <label for="mobile">Mobile</label>
        <input
        id="mobile"
        type="number"
        formControlName="mobile"
        placeholder="Enter mobile"
        [attr.inputmode]="'numeric'" 
        class="no-spinner"
      />        <div class="error-message" *ngIf="addEmployeeForm.controls['mobile'].invalid && addEmployeeForm.controls['mobile'].touched">
          <ng-container *ngIf="addEmployeeForm.controls['mobile'].errors?.['required']">
            Mobile is required.
          </ng-container>
          <ng-container *ngIf="addEmployeeForm.controls['mobile'].errors?.['pattern']">
            Mobile number must be numeric.
          </ng-container>
        </div>
      </div>
    </div>

    <div class="form-row">
      <!-- Email Field -->
      <div class="form-field" [ngClass]="{'has-error': addEmployeeForm.controls['email'].invalid && addEmployeeForm.controls['email'].touched}">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" placeholder="Enter Email" />
        <div class="error-message" *ngIf="addEmployeeForm.controls['email'].invalid && addEmployeeForm.controls['email'].touched">
          <ng-container *ngIf="addEmployeeForm.controls['email'].errors?.['required']">
            Email is required.
          </ng-container>
          <ng-container *ngIf="addEmployeeForm.controls['email'].errors?.['email']">
            Please enter a valid email address.
          </ng-container>
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-field" [ngClass]="{'has-error': addEmployeeForm.controls['password'].invalid && addEmployeeForm.controls['password'].touched}">
        <label for="password">Password</label>
        <input id="password" type="password" formControlName="password" placeholder="Enter password" />
        <div class="error-message" *ngIf="addEmployeeForm.controls['password'].invalid && addEmployeeForm.controls['password'].touched">
          <ng-container *ngIf="addEmployeeForm.controls['password'].errors?.['required']">
            Password is required.
          </ng-container>
          <ng-container *ngIf="addEmployeeForm.controls['password'].errors?.['minlength']">
            Password must be at least 8 characters long.
          </ng-container>
        </div>
      </div>
    </div>

    <div class="form-row">
      <!-- Branch Dropdown Field -->
      <div class="form-field">
        <label for="regionDropdown">Roles</label>
        <p-dropdown id="regionDropdown" [options]="branches" optionLabel="name" placeholder="Select Role" optionValue="name" formControlName="role" class="custom-dropdown"></p-dropdown>
      </div>
      
    </div>
  </div>



  <!-- Submit Button -->
  <div class="button-row">
    <button pButton label="Cancel" class="p-button-outlined" (click)="onCancel()" type="button"></button>
    <button pButton [label]="selectedEmployee ? 'Update Employee' : 'Add Employee'" class="p-button-raised" type="submit"></button>
  </div>
</form>

</p-dialog>